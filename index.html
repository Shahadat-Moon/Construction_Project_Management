<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M/S. S.R Suppliers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        .page { display: none; }
        .page-active { display: block; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 pb-20">

    <nav class="fixed bottom-0 w-full bg-white border-t flex justify-around p-4 z-50 rounded-t-3xl shadow-lg">
        <button onclick="router('dashboard')" class="text-center">ğŸ <br><span class="text-[10px] font-bold">Home</span></button>
        <button onclick="router('add-expense')" class="text-center text-red-500">ğŸ“‰<br><span class="text-[10px] font-bold">Expense</span></button>
        <button onclick="router('add-income')" class="text-center text-green-500">ğŸ“ˆ<br><span class="text-[10px] font-bold">Income</span></button>
        <button onclick="router('contacts')" class="text-center">ğŸ“<br><span class="text-[10px] font-bold">Contact</span></button>
    </nav>

    <main id="dashboard" class="page page-active p-6">
        <h1 class="text-2xl font-black mb-6">M/S. S.R Suppliers</h1>
        
        <div class="grid grid-cols-2 gap-4">
            <div class="bg-gradient-to-br from-blue-600 to-blue-700 p-4 rounded-2xl text-white shadow-md">
                <p class="text-[10px] uppercase opacity-80">Ongoing Sites</p>
                <p id="count-ongoing" class="text-2xl font-bold">0</p>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-sm border">
                <p class="text-[10px] text-slate-400 uppercase">Portfolio Value</p>
                <p id="total-contract" class="text-lg font-bold text-slate-800">$0</p>
            </div>
            <div class="bg-green-50 p-4 rounded-2xl border border-green-100">
                <p class="text-[10px] text-green-600 uppercase font-bold">Cash In</p>
                <p id="total-income" class="text-lg font-bold">$0</p>
            </div>
            <div class="bg-red-50 p-4 rounded-2xl border border-red-100">
                <p class="text-[10px] text-red-600 uppercase font-bold">Cash Out</p>
                <p id="total-expense" class="text-lg font-bold">$0</p>
            </div>
        </div>

        <h2 class="mt-8 mb-4 font-bold text-slate-600">Active Projects</h2>
        <div id="project-list" class="space-y-3"></div>
    </main>

    <main id="add-expense" class="page p-6">
        <h2 class="text-xl font-bold text-red-600 mb-6 underline">Add New Expense</h2>
        <div class="space-y-4">
            <select id="exp-project" class="w-full p-4 bg-white border rounded-xl"></select>
            <input type="number" id="exp-amount" placeholder="Amount ($)" class="w-full p-4 border rounded-xl">
            <input type="date" id="exp-date" class="w-full p-4 border rounded-xl">
            <input type="text" id="exp-type" placeholder="Type (e.g. Labor, Fuel)" class="w-full p-4 border rounded-xl">
            <textarea id="exp-detail" placeholder="Details/Notes" class="w-full p-4 border rounded-xl"></textarea>
            <button onclick="saveExpense()" class="w-full py-4 bg-red-600 text-white font-bold rounded-xl shadow-lg">Save & View Project</button>
        </div>
    </main>

    <main id="add-income" class="page p-6">
        <h2 class="text-xl font-bold text-green-600 mb-6 underline">Add New Income</h2>
        <div class="space-y-4">
            <select id="inc-project" class="w-full p-4 bg-white border rounded-xl"></select>
            <input type="number" id="inc-amount" placeholder="Amount ($)" class="w-full p-4 border rounded-xl">
            <input type="date" id="inc-date" class="w-full p-4 border rounded-xl">
            <textarea id="inc-detail" placeholder="Details/Notes" class="w-full p-4 border rounded-xl"></textarea>
            <button onclick="saveIncome()" class="w-full py-4 bg-green-600 text-white font-bold rounded-xl shadow-lg">Save & View Project</button>
        </div>
    </main>

    <main id="project-view" class="page p-6">
        <button onclick="router('dashboard')" class="text-blue-600 mb-4 font-bold">â† Back to Dashboard</button>
        <h2 id="view-project-name" class="text-2xl font-black">Project Details</h2>
        <div id="project-stats" class="mt-6 space-y-4">
            </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
